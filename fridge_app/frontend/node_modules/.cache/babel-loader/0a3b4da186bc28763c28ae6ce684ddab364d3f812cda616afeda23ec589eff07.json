{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WenxC\\\\Web Projects\\\\Fridge\\\\fridge_app\\\\frontend\\\\src\\\\components\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { Grid, Button, IconButton, CardHeader, Card, CardMedia, CardContent, Typography, CardActions, Collapse, Stack, Checkbox, Dialog, DialogTitle, DialogContent, DialogActions, MenuItem, Select, InputLabel, FormControl, Alert, AlertTitle } from '@mui/material';\nimport ExpandMoreRoundedIcon from '@mui/icons-material/ExpandMoreRounded';\nimport ExpandLessRoundedIcon from '@mui/icons-material/ExpandLessRounded';\nimport InsertLinkRoundedIcon from '@mui/icons-material/InsertLinkRounded';\nimport Favorite from '@mui/icons-material/Favorite';\nimport FavoriteBorder from '@mui/icons-material/FavoriteBorder';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Recipe(_ref) {\n  _s();\n  let {\n    setLike\n  } = _ref;\n  const {\n    authTokens,\n    logoutUser\n  } = useContext(AuthContext);\n  const [recipes, setRecipes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [expanded, setExpanded] = useState(-1);\n  const [items, setItems] = useState([]);\n  const [summary, setSummary] = useState([]);\n  const [cuisine, setCuisine] = useState('');\n  const [intolerance, setIntolerance] = useState([]);\n  const [type, setType] = useState('');\n  const [diet, setDiet] = useState('');\n  const [open, setOpen] = useState(false);\n  const [alert, setAlert] = useState(false);\n  useEffect(() => {\n    const getItems = async () => {\n      const response = await fetch('http://127.0.0.1:8000/items/getItems', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + String(authTokens.access)\n        }\n      });\n      const data = await response.json();\n      if (response.status === 200) {\n        setItems(data);\n      } else if (response.statusText === 'Unauthorized') {\n        logoutUser();\n      }\n    };\n    getItems();\n  }, [alert]);\n  const intolerances = ['Dairy', 'Egg', 'Gluten', 'Grain', 'Peanut', 'Seafood', 'Sesame', 'Shellfish', 'Soy', 'Sulfite', 'Tree Nut', 'Wheat'];\n  const handleSearch = async () => {\n    setLoading(true);\n    const response = await fetch('http://127.0.0.1:8000/api/advancedRecipe', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + String(authTokens.access)\n      },\n      body: JSON.stringify({\n        ingredients: items,\n        intolerance: intolerance,\n        type: type,\n        cuisine: cuisine,\n        diet: diet\n      })\n    });\n    const data = await response.json();\n    if (response.status === 200) {\n      setOpen(false);\n      setAlert(false);\n      setRecipes(data);\n      setLoading(false);\n    } else if (response.status === 400) {\n      setAlert(true);\n      setLoading(false);\n      setRecipes([]);\n    }\n  };\n  const handleSelect = event => {\n    const {\n      target: {\n        value\n      }\n    } = event;\n    setIntolerance(typeof value === 'string' ? value.split(',') : value);\n  };\n  const handleChange = async e => {\n    const value = JSON.parse(e.target.value);\n    setLike(value);\n    if (e.target.checked) {\n      await fetch('http://127.0.0.1:8000/api/saveRecipe', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify({\n          id: value.id,\n          title: value.title,\n          source: value.source,\n          image: value.image,\n          favorite: true\n        })\n      });\n    } else {\n      await fetch('http://127.0.0.1:8000/api/deleteRecipe', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify({\n          id: value.id\n        })\n      });\n    }\n  };\n  let stringtoHTML = function (str) {\n    let dom = document.createElement('div');\n    dom.innerHTML = str;\n    return dom;\n  };\n  const handleHTML = e => {\n    let data = [];\n    let htmlBody = stringtoHTML(e);\n    data.push(htmlBody);\n    return data;\n  };\n  const handleExpandClick = i => {\n    setExpanded(expanded === i ? -1 : i);\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 4,\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: handleClickOpen,\n        children: \"Advanced Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Advanced Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 6\n        }, this), alert ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 8\n          }, this), \"No recipes found, Try again with other options.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 7\n        }, this) : null, /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              justifyContent: \"center\",\n              alignItems: \"stretch\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 5,\n                children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                  sx: {\n                    m: 1,\n                    minWidth: 200\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    children: \"Cuisine\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: cuisine,\n                    label: \"Cuisine\",\n                    onChange: e => setCuisine(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: \"\",\n                      children: /*#__PURE__*/_jsxDEV(\"em\", {\n                        children: \"None\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'African',\n                      children: \"African\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'American',\n                      children: \"American\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'British',\n                      children: \"British\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Cajun',\n                      children: \"Cajun\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Caribbean',\n                      children: \"Caribbean\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Chinese',\n                      children: \"Chinese\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                  sx: {\n                    m: 1,\n                    minWidth: 200\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: type,\n                    label: \"Type\",\n                    onChange: e => setType(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: \"\",\n                      children: /*#__PURE__*/_jsxDEV(\"em\", {\n                        children: \"None\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Breakfast',\n                      children: \"Breakfast\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Lunch',\n                      children: \"Lunch\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Dinner',\n                      children: \"Dinner\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                  sx: {\n                    m: 1,\n                    minWidth: 200\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    children: \"Diet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: diet,\n                    label: \"Diet\",\n                    onChange: e => setDiet(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: \"\",\n                      children: /*#__PURE__*/_jsxDEV(\"em\", {\n                        children: \"None\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 234,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Vegetarian',\n                      children: \"Vegetarian\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Vegan',\n                      children: \"Vegan\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Ketogenic',\n                      children: \"Ketogenic\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Gluten Free',\n                      children: \"Gluten Free\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'Pescetarian',\n                      children: \"Pescetarian\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                  sx: {\n                    m: 1,\n                    minWidth: 200,\n                    maxWidth: 200\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    children: \"Intolerance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: intolerance,\n                    label: \"Intolerance\",\n                    onChange: handleSelect,\n                    multiple: true,\n                    children: intolerances.map(name => /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: name\n                      // style={getStyles(name, personName, theme)}\n                      ,\n                      children: name\n                    }, name, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 13\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSearch,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        children: recipes.map((item, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 5,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Stack, {\n            direction: 'row',\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column'\n              },\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                title: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n                component: \"img\",\n                height: \"194\",\n                image: item.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: \"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                disableSpacing: true,\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  href: item.source,\n                  target: \"_blank\",\n                  endIcon: /*#__PURE__*/_jsxDEV(InsertLinkRoundedIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 22\n                  }, this),\n                  children: \"Link\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                  defaultChecked: item.favorite,\n                  icon: /*#__PURE__*/_jsxDEV(FavoriteBorder, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 19\n                  }, this),\n                  checkedIcon: /*#__PURE__*/_jsxDEV(Favorite, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 26\n                  }, this),\n                  onChange: handleChange,\n                  value: JSON.stringify({\n                    id: item.id,\n                    title: item.title,\n                    image: item.image,\n                    source: item.source\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => handleExpandClick(index),\n                  \"aria-expanded\": expanded === index,\n                  children: [\"Recipe\", expanded === index ? /*#__PURE__*/_jsxDEV(ExpandLessRoundedIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 14\n                  }, this) : /*#__PURE__*/_jsxDEV(ExpandMoreRoundedIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 14\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n                in: expanded === index,\n                timeout: \"auto\",\n                unmountOnExit: true,\n                addEndListener: () => {\n                  setSummary(handleHTML(item.summary));\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: summary[0] ? summary[0].innerText : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 9\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 3\n  }, this);\n}\n_s(Recipe, \"k7VwzadBsi1YuVp0MKoD5+emNvI=\");\n_c = Recipe;\nvar _c;\n$RefreshReg$(_c, \"Recipe\");","map":{"version":3,"names":["React","useState","useContext","useEffect","AuthContext","Grid","Button","IconButton","CardHeader","Card","CardMedia","CardContent","Typography","CardActions","Collapse","Stack","Checkbox","Dialog","DialogTitle","DialogContent","DialogActions","MenuItem","Select","InputLabel","FormControl","Alert","AlertTitle","ExpandMoreRoundedIcon","ExpandLessRoundedIcon","InsertLinkRoundedIcon","Favorite","FavoriteBorder","CircularProgress","Recipe","setLike","authTokens","logoutUser","recipes","setRecipes","loading","setLoading","expanded","setExpanded","items","setItems","summary","setSummary","cuisine","setCuisine","intolerance","setIntolerance","type","setType","diet","setDiet","open","setOpen","alert","setAlert","getItems","response","fetch","method","headers","Authorization","String","access","data","json","status","statusText","intolerances","handleSearch","body","JSON","stringify","ingredients","handleSelect","event","target","value","split","handleChange","e","parse","checked","id","title","source","image","favorite","stringtoHTML","str","dom","document","createElement","innerHTML","handleHTML","htmlBody","push","handleExpandClick","i","handleClickOpen","handleClose","m","minWidth","maxWidth","map","name","item","index","height","display","flexDirection","innerText"],"sources":["C:/Users/WenxC/Web Projects/Fridge/fridge_app/frontend/src/components/Search.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport AuthContext from '../context/AuthContext';\r\nimport {\r\n\tGrid,\r\n\tButton,\r\n\tIconButton,\r\n\tCardHeader,\r\n\tCard,\r\n\tCardMedia,\r\n\tCardContent,\r\n\tTypography,\r\n\tCardActions,\r\n\tCollapse,\r\n\tStack,\r\n\tCheckbox,\r\n\tDialog,\r\n\tDialogTitle,\r\n\tDialogContent,\r\n\tDialogActions,\r\n\tMenuItem,\r\n\tSelect,\r\n\tInputLabel,\r\n\tFormControl,\r\n\tAlert,\r\n\tAlertTitle,\r\n} from '@mui/material';\r\nimport ExpandMoreRoundedIcon from '@mui/icons-material/ExpandMoreRounded';\r\nimport ExpandLessRoundedIcon from '@mui/icons-material/ExpandLessRounded';\r\nimport InsertLinkRoundedIcon from '@mui/icons-material/InsertLinkRounded';\r\nimport Favorite from '@mui/icons-material/Favorite';\r\nimport FavoriteBorder from '@mui/icons-material/FavoriteBorder';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nexport default function Recipe({ setLike }) {\r\n\tconst { authTokens, logoutUser } = useContext(AuthContext);\r\n\tconst [recipes, setRecipes] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [expanded, setExpanded] = useState(-1);\r\n\tconst [items, setItems] = useState([]);\r\n\tconst [summary, setSummary] = useState([]);\r\n\tconst [cuisine, setCuisine] = useState('');\r\n\tconst [intolerance, setIntolerance] = useState([]);\r\n\tconst [type, setType] = useState('');\r\n\tconst [diet, setDiet] = useState('');\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [alert, setAlert] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getItems = async () => {\r\n\t\t\tconst response = await fetch('http://127.0.0.1:8000/items/getItems', {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: 'Bearer ' + String(authTokens.access),\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tsetItems(data);\r\n\t\t\t} else if (response.statusText === 'Unauthorized') {\r\n\t\t\t\tlogoutUser();\r\n\t\t\t}\r\n\t\t};\r\n\t\tgetItems();\r\n\t}, [alert]);\r\n\r\n\tconst intolerances = [\r\n\t\t'Dairy',\r\n\t\t'Egg',\r\n\t\t'Gluten',\r\n\t\t'Grain',\r\n\t\t'Peanut',\r\n\t\t'Seafood',\r\n\t\t'Sesame',\r\n\t\t'Shellfish',\r\n\t\t'Soy',\r\n\t\t'Sulfite',\r\n\t\t'Tree Nut',\r\n\t\t'Wheat',\r\n\t];\r\n\tconst handleSearch = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst response = await fetch('http://127.0.0.1:8000/api/advancedRecipe', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + String(authTokens.access),\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tingredients: items,\r\n\t\t\t\tintolerance: intolerance,\r\n\t\t\t\ttype: type,\r\n\t\t\t\tcuisine: cuisine,\r\n\t\t\t\tdiet: diet,\r\n\t\t\t}),\r\n\t\t});\r\n\t\tconst data = await response.json();\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetOpen(false);\r\n\t\t\tsetAlert(false);\r\n\t\t\tsetRecipes(data);\r\n\t\t\tsetLoading(false);\r\n\t\t} else if (response.status === 400) {\r\n\t\t\tsetAlert(true);\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetRecipes([]);\r\n\t\t}\r\n\t};\r\n\tconst handleSelect = event => {\r\n\t\tconst {\r\n\t\t\ttarget: { value },\r\n\t\t} = event;\r\n\t\tsetIntolerance(typeof value === 'string' ? value.split(',') : value);\r\n\t};\r\n\tconst handleChange = async e => {\r\n\t\tconst value = JSON.parse(e.target.value);\r\n\t\tsetLike(value);\r\n\t\tif (e.target.checked) {\r\n\t\t\tawait fetch('http://127.0.0.1:8000/api/saveRecipe', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: 'Bearer ' + String(authTokens.access),\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tid: value.id,\r\n\t\t\t\t\ttitle: value.title,\r\n\t\t\t\t\tsource: value.source,\r\n\t\t\t\t\timage: value.image,\r\n\t\t\t\t\tfavorite: true,\r\n\t\t\t\t}),\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait fetch('http://127.0.0.1:8000/api/deleteRecipe', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: 'Bearer ' + String(authTokens.access),\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tid: value.id,\r\n\t\t\t\t}),\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tlet stringtoHTML = function (str) {\r\n\t\tlet dom = document.createElement('div');\r\n\t\tdom.innerHTML = str;\r\n\t\treturn dom;\r\n\t};\r\n\r\n\tconst handleHTML = e => {\r\n\t\tlet data = [];\r\n\t\tlet htmlBody = stringtoHTML(e);\r\n\t\tdata.push(htmlBody);\r\n\t\treturn data;\r\n\t};\r\n\tconst handleExpandClick = i => {\r\n\t\tsetExpanded(expanded === i ? -1 : i);\r\n\t};\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\treturn (\r\n\t\t<Grid container spacing={4} align='center'>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Button variant='contained' onClick={handleClickOpen}>\r\n\t\t\t\t\tAdvanced Search\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Dialog open={open} onClose={handleClose}>\r\n\t\t\t\t\t<DialogTitle>Advanced Search</DialogTitle>\r\n\t\t\t\t\t{alert ? (\r\n\t\t\t\t\t\t<Alert severity='error'>\r\n\t\t\t\t\t\t\t<AlertTitle>Error</AlertTitle>\r\n\t\t\t\t\t\t\tNo recipes found, Try again with other options.\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<Grid container align='center'>\r\n\t\t\t\t\t\t\t<Stack\r\n\t\t\t\t\t\t\t\tdirection='row'\r\n\t\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t\t\t<FormControl sx={{ m: 1, minWidth: 200 }}>\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel>Cuisine</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={cuisine}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Cuisine'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => setCuisine(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=''>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<em>None</em>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'African'}>African</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'American'}>American</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'British'}>British</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Cajun'}>Cajun</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Caribbean'}>Caribbean</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Chinese'}>Chinese</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl sx={{ m: 1, minWidth: 200 }}>\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel>Type</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={type}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Type'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => setType(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=''>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<em>None</em>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Breakfast'}>Breakfast</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Lunch'}>Lunch</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Dinner'}>Dinner</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl sx={{ m: 1, minWidth: 200 }}>\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel>Diet</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={diet}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Diet'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => setDiet(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=''>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<em>None</em>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Vegetarian'}>Vegetarian</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Vegan'}>Vegan</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Ketogenic'}>Ketogenic</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Gluten Free'}>Gluten Free</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'Pescetarian'}>Pescetarian</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl sx={{ m: 1, minWidth: 200, maxWidth: 200 }}>\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel>Intolerance</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={intolerance}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Intolerance'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{intolerances.map(name => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// style={getStyles(name, personName, theme)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Stack>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={handleClose}>Cancel</Button>\r\n\t\t\t\t\t\t<Button onClick={handleSearch}>Search</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Grid container spacing={4}>\r\n\t\t\t\t\t\t{recipes.map((item, index) => (\r\n\t\t\t\t\t\t\t<Grid item key={index} xs={12} sm={5} md={3}>\r\n\t\t\t\t\t\t\t\t<Stack direction={'row'}>\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CardHeader title={item.title} />\r\n\t\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent='img'\r\n\t\t\t\t\t\t\t\t\t\t\theight='194'\r\n\t\t\t\t\t\t\t\t\t\t\timage={item.image}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='text.secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThis impressive paella is a perfect party dish and a fun\r\n\t\t\t\t\t\t\t\t\t\t\t\tmeal to cook together with your guests. Add 1 cup of\r\n\t\t\t\t\t\t\t\t\t\t\t\tfrozen peas along with the mussels, if you like.\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t<CardActions disableSpacing>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={item.source}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\tendIcon={<InsertLinkRoundedIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tLink\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={item.favorite}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<FavoriteBorder />}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheckedIcon={<Favorite />}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timage: item.image,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsource: item.source,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleExpandClick(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-expanded={expanded === index}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRecipe\r\n\t\t\t\t\t\t\t\t\t\t\t\t{expanded === index ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExpandLessRoundedIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExpandMoreRoundedIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t\t\t<Collapse\r\n\t\t\t\t\t\t\t\t\t\t\tin={expanded === index}\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout='auto'\r\n\t\t\t\t\t\t\t\t\t\t\tunmountOnExit\r\n\t\t\t\t\t\t\t\t\t\t\taddEndListener={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSummary(handleHTML(item.summary));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{summary[0] ? summary[0].innerText : null}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Stack>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}